<!DOCTYPE html>
<html>
  <head>
    <title>Observables | Frint</title>
  </head>

  <body>
    <nav class="nav">
      <div class="container">
        <div class="nav-left">
  <a href="/" class="nav-item brand">
    <img alt="Frint" class="dark" src="/img/frint-logo-7a7a7a.png" />
    <img alt="Frint" class="light" src="/img/frint-logo-fff.png" />
  </a>

  <a href="/docs" class="nav-item is-tab">
    Documentation
  </a>

  <a href="/guides" class="nav-item is-tab">
    Guides
  </a>

  <a href="/repl" class="nav-item is-tab">
    REPL
  </a>

  <a href="/about" class="nav-item is-tab">
    About
  </a>
</div>

<div class="nav-right">
  <div class="field nav-item">
    <p class="control has-icon">
      <input id="doc-search-text-box" class="input" type="text" placeholder="Search...">
      <span class="icon is-small">
        <i class="fa fa-search"></i>
      </span>
    </p>
  </div>
</div>

      </div>
    </nav>

    <section class="section">
      <div class="container">
        <div class="columns">
          <div class="column is-one-quarter">
            <div class="menu-container docs">
  <aside class="menu docs">
    <p class="menu-label">
      Step by step guides
    </p>

    <ul class="menu-list">
      <li><a href="/guides/hello-world">Hello World</a></li>
    </ul>

    <p class="menu-label">
      Concepts
    </p>

    <ul class="menu-list">
      <li><a href="/guides/apps">Apps</a></li>
      <li><a href="/guides/providers">Providers</a></li>
      <li><a href="/guides/components">Components</a></li>
      <li><a href="/guides/regions">Regions</a></li>
      <li><a href="/guides/observables">Observables</a></li>
      <li><a href="/guides/higher-order-components">Higher-Order Components</a></li>
    </ul>

    <p class="menu-label">
      How TOs
    </p>

    <ul class="menu-list">
      <li><a href="/guides/state-management">State management</a></li>
    </ul>

    <ul class="menu-list">
      <li><a href="/guides/routing">Routing</a></li>
    </ul>

    <p class="menu-label">
      Advanced
    </p>

    <ul class="menu-list">
      <li><a href="/guides/code-splitting">Code splitting</a></li>
      <li><a href="/guides/async-loading">Async loading</a></li>
    </ul>
  </aside>
</div>

          </div>

          <div class="column content">
            <h1 id="observables">Observables</h1>
<!-- MarkdownTOC depth=2 autolink=true bracket=round -->
<ul>
<li><a href="#what-is-an-observable">What is an Observable?</a></li>
<li><a href="#implementations">Implementations</a></li>
<li><a href="#conventions">Conventions</a></li>
<li><a href="#basic-usage">Basic usage</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#from-known-values">From known values</a></li>
<li><a href="#interval">Interval</a></li>
<li><a href="#from-dom-event">From DOM event</a></li>
</ul>
</li>
<li><a href="#operators">Operators</a><ul>
<li><a href="#filter">Filter</a></li>
<li><a href="#map">Map</a></li>
<li><a href="#merge">Merge</a></li>
<li><a href="#scan">Scan</a></li>
</ul>
</li>
<li><a href="#further-reading">Further reading</a></li>
</ul>
<!-- /MarkdownTOC -->
<h2 id="what-is-an-observable-">What is an Observable?</h2>
<p>To quote the <a href="https://github.com/tc39/proposal-observable">spec</a> directly:</p>
<blockquote>
<p>The Observable type can be used to model push-based data sources such as DOM events, timer intervals, and sockets.</p>
</blockquote>
<p>They are:</p>
<ul>
<li><strong>Compositional</strong>: Observables can be composed with higher-order combinators.</li>
<li><strong>Lazy</strong>: Observables do not start emitting data until an observer has subscribed.</li>
</ul>
<h2 id="implementations">Implementations</h2>
<p>There are various implementations of the Observable spec. Some of them include:</p>
<ul>
<li><a href="https://github.com/ReactiveX/RxJS">RxJS</a></li>
<li><a href="https://github.com/zenparsing/zen-observable">zen-observable</a></li>
</ul>
<p>Frint uses RxJS, which is widely adopted by the JavaScript community. Our examples would demonstrate this particular library below.</p>
<h2 id="conventions">Conventions</h2>
<p>It is common practice to end your variable names with a <code>$</code> sign if it represents an Observable.</p>
<pre><code class="lang-js">const name$ = Rx.Observable.of(&#39;Frint&#39;);
</code></pre>
<h2 id="basic-usage">Basic usage</h2>
<p>Create an Observable:</p>
<pre><code class="lang-js">const colors$ = Rx.Observable.create(function (observer) {
  observer.next(&#39;red&#39;);
  observer.next(&#39;green&#39;);
  observer.next(&#39;blue&#39;);

  // observer.error(&#39;something wrong here...&#39;);

  observer.complete();
});
</code></pre>
<p>Subscribe to it:</p>
<pre><code class="lang-js">const subscription = colors$.subscribe({
  next: function (color) {
    console.log(color); // `red`, `green`, `blue`
  },
  error: function (error) {
    console.log(error); // never fires
  },
  complete: function() {
    console.log(&#39;completed&#39;); // once it is completed
  }
});
</code></pre>
<p>If you only care about the emitted values, then your subscription code can be shortened:</p>
<pre><code class="lang-js">const subscription = colors$.subscribe(function (color) {
  console.log(color);
});
</code></pre>
<p>To unsubscribe:</p>
<pre><code class="lang-js">subscription.unsubscribe();
</code></pre>
<h2 id="examples">Examples</h2>
<h3 id="from-known-values">From known values</h3>
<pre><code class="lang-js">const numbers$ = Rx.Observable.of(1, 2, 3);

numbers$.subscribe(function (number) {
  console.log(number);
});

// Prints these numbers sequentially:
//
//   1
//   2
//   3
</code></pre>
<h3 id="interval">Interval</h3>
<pre><code class="lang-js">const interval$ = Rx.Observable.interval(1000); // every second

interval$.subscribe(function (x) {
  console.log(x); // `x` is the nth time interval$ has triggered
});

// Prints `x` every second
</code></pre>
<h3 id="from-dom-event">From DOM event</h3>
<pre><code class="lang-js">const clicks$ = Rx.Observable.fromEvent(document, &#39;click&#39;);

clicks$.subscribe(function (mouseEvent) {
  console.log(&#39;clicked!&#39;);
});

// Prints `clicked`, every time the document is clicked
</code></pre>
<h2 id="operators">Operators</h2>
<p>RxJS also comes with various operators that can help manage your Observables.</p>
<h3 id="filter">Filter</h3>
<p>Let&#39;s say you have an Observable that keeps emitting an integer every 100ms, but you only want values which are divisible by 10.</p>
<p>Like: <code>0</code>, <code>10</code>, <code>20</code>, <code>30</code>, ...more.</p>
<pre><code class="lang-js">const interval$ = Rx.Observable.interval(100);

interval$
  .filter(x =&gt; x % 10 === 0) // we are filtering out unwanted values here
  .subscribe(x =&gt; console.log(x));
</code></pre>
<h3 id="map">Map</h3>
<p>We can even map emitted values to something else:</p>
<pre><code class="lang-js">const houses$ = Rx.Observable.of(&#39;gryffindor&#39;, &#39;slytherin&#39;, &#39;ravenclaw&#39;, &#39;hufflepuff&#39;);

houses$
  .map(x =&gt; x.toUpperCase()) // uppercasing the house names
  .subscribe(x =&gt; console.log(x));
</code></pre>
<h3 id="merge">Merge</h3>
<p>Merging two Observables:</p>
<pre><code class="lang-js">const numbers$ = Rx.Observable.of(1, 2, 3);
const colors$ = Rx.Observable.of(&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;);
const houses$ = Rx.Observable.of(&#39;gryffindor&#39;, &#39;slytherin&#39;, &#39;ravenclaw&#39;, &#39;hufflepuff&#39;);

numbers$
  .merge(colors$)
  .merge(houses$)
  .subscribe(x =&gt; console.log(x)); // emits all values from 3 observables, one by one
</code></pre>
<p>Alternatively, you could merge them all as follows:</p>
<pre><code class="lang-js">const merged$ = Observable.merge(
  numbers$,
  colors$,
  houses$
);
</code></pre>
<h3 id="scan">Scan</h3>
<p>Let&#39;s say we want to merge all the three observables from above example, and generate a final Object which holds the most recent value of each of them:</p>
<pre><code class="lang-js">{
  number: 3,
  color: &#39;blue&#39;,
  house: &#39;hufflepuff&#39;
}
</code></pre>
<p>We can use the <code>scan</code> operator to achieve that. The operator <code>scan</code> is for Observables, what <code>reduce</code> is to arrays in JavaScript.</p>
<pre><code class="lang-js">const merged$ = Rx.Observable.merge(
  numbers$.map(x =&gt; ({ number: x })), // map `1` to `{number: 1}`
  colors$.map(x =&gt; ({ color: x })), // map `red` to `{color: &quot;red&quot;}`
  houses$.map(x =&gt; ({ house: x })) // map `gryffindor` to `{house: &quot;gryffindor&quot;}`
);

merged$
  // we keep merging the previous object with new emitted object
  .scan((acc, curr) =&gt; {
    return {
      ...acc,
      ...curr,
    };
  }, {
    number: &#39;n/a&#39;,
    color: &#39;n/a&#39;,
    house: &#39;n/a&#39;
  });
</code></pre>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html">Observable</a></li>
<li><a href="http://reactivex.io/rxjs/class/es6/MiscJSDoc.js~ObserverDoc.html">Observer</a></li>
<li><a href="http://reactivex.io/rxjs/class/es6/Subscriber.js~Subscriber.html">Subscriber</a></li>
<li><a href="http://reactivex.io/rxjs/class/es6/Subscription.js~Subscription.html">Subscription</a></li>
<li><a href="http://reactivex.io/rxjs/class/es6/Subject.js~Subject.html">Subject</a></li>
</ul>

          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <p>
        <strong>FrintJS</strong> by <a href="https://travix.com">Travix International B.V.</a>.
        The source code is licensed under
        <a href="https://github.com/Travix-International/frint/blob/master/LICENSE">MIT</a>.
      </p>
      <p>
        <a class="icon" href="https://github.com/Travix-International/frint">
          <i class="fa fa-github"></i>
        </a>
      </p>
    </div>
  </div>
</footer>


    <style>
  .github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism-solarizedlight.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" href="/css/site.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
<script src="/js/site.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: '897a7279c47670a5c4b474ee84350387',
  indexName: 'frint.js',
  inputSelector: '#doc-search-text-box',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-93673400-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
